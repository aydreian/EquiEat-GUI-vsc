# EquiEat-GUI-vsc

# EquiEat — Smart Rationing System (SRS)

Project developers — first-year students (National University, Manila). This README is for developers working on and extending the code.

Overview
--------
EquiEat is a small Java Swing application that demonstrates a simple, practical relief distribution system. It was designed as an educational project for first-year students to learn GUI programming, file I/O, basic data modelling, and simple algorithms for fair distribution.

Purpose
-------
- Simulate fair distribution of relief items to families.
- Practice reading CSV data, building UIs, handling user input, and writing reports.
- Produce printable claim stubs (HTML) and reports (CSV/TXT).

Key Features
------------
- Import family demographics from CSV.
- Add warehouse inventory items with category and priority targeting.
- Run a distribution engine that gives whole-number allocations to families.
- View distribution results in a table with wrapped packing lists.
- Track reserve/medical stock and rounding leftovers separately.
- Export final packing list (CSV), reserve report (TXT), and claim stubs (HTML).
- Audit log (`audit_log.txt`) to record actions with timestamps.

Quick Start (compile & run)
---------------------------
Requirements:
- Java 8+ (JDK installed and `javac` available on PATH)

Commands (Windows PowerShell):

```powershell
cd "c:\Users\Nimfa\Documents\KIRDEE\equieat\"
javac SmartRationGUI.java
java SmartRationGUI
```

If compilation errors occur, check the file edits or restore original sources.

Files and Structure
-------------------
- `SmartRationGUI.java` — Main GUI and application logic (single-file project).
- `audit_log.txt` — Appended audit log created at runtime.
- `Final_Packing_List.csv` — Generated by the app when exporting results.
- `Reserve_Stock_Report.txt` — Generated reserve report when exporting.
- `Claim_Stubs.html` — Generated printable claim stubs (HTML).
- `icon.png`, `logo.png`, `bootStrapBG.png` — Optional images used by the GUI.

High-level Design
-----------------
- Single Java class file containing GUI, models, renderers and engine classes.
- Uses Java Swing components: `JFrame`, `JTabbedPane`, `JTable`, `JFileChooser`.
- Data kept in-memory in lists and table models. No database.

Main Components (in `SmartRationGUI.java`)
-----------------------------------------
- `main()` — Sets look-and-feel and shows a simple bootstrap loading screen.
- `bootStrapper` — Small splash-screen frame while the main UI loads.
- `SmartRationGUI` constructor — Builds the main window and tabs.

UI Tabs:
- Control Center: import CSV, add inventory, run distribution.
- Distribution Results: shows per-family allocated items and demographic summary.
- Reserve & Excess Stock: shows specialized medical stock and rounding leftovers.

Data Models:
- `Family` — Represents a household. Fields: `id`, `headOfFamily`, `memberCount`, `attributes`, `itemsReceived` (LinkedHashMap).
  - `receiveItem(String, int)` — add integer quantity of an item.
  - `clearReceived()` — clear previous allocations.
  - `getFormattedPackingList()` — returns a string with items like `"5 pcs of rice + 2 pcs of beans"`.

- `Supply` — Represents a warehouse item. Fields: `name`, `cat` (SupplyCategory), `qty`, `target` (PriorityAttribute), `leftover`.

Enums:
- `PriorityAttribute` — e.g., `HAS_INFANT`, `HAS_SENIOR`, `PWD`, `INJURED`, etc.
- `SupplyCategory` — e.g., `STAPLE`, `PROTEIN`, `SPECIALIZED_MED`.

Engine (Distribution Algorithm)
------------------------------
`RationEngine.distributeWithRounding(List<Family>, List<Supply>, int totalPop)`
- For each supply item:
  - If `SPECIALIZED_MED` -> keep entire quantity in reserve (not distributed).
  - Determine eligible families:
    - If item has a `target` (priority attribute), only families with that attribute are eligible.
    - Otherwise everyone is eligible.
  - Compute per-person unit share: `unitShare = qty / eligiblePopulation`.
  - For each eligible family:
    - If targeted: allocation is `qty / eligible.size()` (equal split among eligible families).
    - Otherwise: allocation is `unitShare * familySize`.
    - Use `Math.floor()` to convert to whole numbers (no partial items).
    - Record allocation with `Family.receiveItem(item.name, safeAllocation)`.
  - Track `leftover = qty - distributedTotal` and store it in `Supply.leftover`.

Why use floor():
- We choose `Math.floor()` to avoid giving fractional amounts. Real-world distribution must be in whole units (or whole packages), and floor ensures fairness by not oversupplying a family.

Table Rendering & UX Details
----------------------------
- Custom renderers added to:
  - Wrap long text (`WrapCellRenderer`) so packing lists show on multiple lines.
  - Integer alignment (`IntegerCellRenderer`) to right-align numeric columns.
  - Status coloring (`StatusCellRenderer`) to highlight medical vs rounding leftover rows.
- Header styles and row heights tuned for readability.

CSV Import Notes
----------------
- `importCSV(String filePath)` auto-detects `,` or `;` delimiters.
- It detects columns containing `size`, `head`/`name`, and `priority` (case-insensitive).
- Priority cell values separated by `;` are mapped to `PriorityAttribute` enum values (case-insensitive, spaces converted to `_`).
- Bad or malformed rows are skipped to avoid crashing the import.

Exported Outputs
----------------
- `Final_Packing_List.csv` — per-family allocations.
- `Reserve_Stock_Report.txt` — lists specialized medical stock and leftovers.
- `Claim_Stubs.html` — printable HTML tickets for distribution.

Audit Logging
-------------
- `AuditLogger` appends human-readable log lines to `audit_log.txt` with timestamp and action details.

Student Notes / To-Do (for learning & extension)
-----------------------------------------------
- Try to add a small validation step when importing CSV (report which rows were skipped).
- Add a simple database backend (SQLite) to persist data between runs.
- Add user roles (admin vs viewer) and a simple login dialog.
- Improve distribution algorithm: try `round()` vs `floor()` and compare leftovers.
- Add a settings panel to configure package sizes and distribution rules.

Known Limitations
-----------------
- Single-file Java implementation for teaching purposes — not modular.
- No unit tests included (students can add JUnit tests).
- No concurrency: for very large datasets the UI may freeze.

How students can study the code
------------------------------
1. Open `SmartRationGUI.java` in an editor and find the `Family` and `Supply` classes — understand the data model.
2. Read `RationEngine` to see how allocations are computed.
3. Look at table renderers (`WrapCellRenderer`, `StatusCellRenderer`) to learn custom Swing rendering.
4. Run the app, add sample inventory, and run distribution to see end-to-end flow.

Sample CSV (simple)
-------------------
Create a file `families.csv` with content like:

```
ID,Head,Size,Priority
FAM001,"Juan Dela Cruz",4,"HAS_INFANT; PWD"
FAM002,"Maria Santos",3,""
FAM003,"Pedro Reyes",5,"HAS_SENIOR"
```

Notes: Priority can be empty or a semicolon-separated list of attributes.

Support & Contacts
------------------
For help, ask your course instructor or open an issue in your project repository. This README is meant as a teaching aid — adapt and expand as you learn.

---

Created for: National University, Manila — First Year Computing Coursework

